<html>
<head>
<title>ipd.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cc7832;}
.s1 { color: #a9b7c6;}
.s2 { color: #6a8759;}
.s3 { color: #808080;}
.s4 { color: #6897bb;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
ipd.py</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">streamlit </span><span class="s0">as </span><span class="s1">st</span>
<span class="s0">import </span><span class="s1">pickle</span>
<span class="s0">import </span><span class="s1">numpy </span><span class="s0">as </span><span class="s1">np</span>

<span class="s1">pipe = pickle.load(open(</span><span class="s2">&quot;pipe.pkl&quot;</span><span class="s0">, </span><span class="s2">&quot;rb&quot;</span><span class="s1">))</span>
<span class="s1">vd = pickle.load(open(</span><span class="s2">&quot;vd.pkl&quot;</span><span class="s0">, </span><span class="s2">&quot;rb&quot;</span><span class="s1">))</span>

<span class="s1">st.title(</span><span class="s2">&quot;Ideal Flagship Smartphone&quot;</span><span class="s1">)</span>

<span class="s3"># brand</span>
<span class="s1">Brand = st.selectbox(</span><span class="s2">'Brand'</span><span class="s0">, </span><span class="s1">vd[</span><span class="s2">'Brand'</span><span class="s1">].unique())</span>

<span class="s3"># Category</span>
<span class="s1">Category = st.selectbox(</span><span class="s2">'Category'</span><span class="s0">, </span><span class="s1">vd[</span><span class="s2">'Category'</span><span class="s1">].unique())</span>

<span class="s3"># screen size</span>
<span class="s1">Screensize = st.selectbox(</span><span class="s2">'Screen Size(inch)'</span><span class="s0">,</span><span class="s1">[</span><span class="s4">5.4</span><span class="s0">,</span><span class="s4">5.8</span><span class="s0">,</span><span class="s4">5</span><span class="s0">,</span><span class="s4">9</span><span class="s0">,</span><span class="s4">6</span><span class="s0">,</span><span class="s4">6.1</span><span class="s0">,</span><span class="s4">6.2</span><span class="s0">,</span><span class="s4">6.3</span><span class="s0">,</span><span class="s4">6.44</span><span class="s0">,</span><span class="s4">6.55</span><span class="s0">,</span><span class="s4">6.67</span><span class="s0">,</span><span class="s4">6.7</span><span class="s0">,</span><span class="s4">6.8</span><span class="s0">,</span><span class="s4">7.2</span><span class="s0">,</span><span class="s4">7.8</span><span class="s0">,</span><span class="s4">8</span><span class="s0">,</span><span class="s4">8.2</span><span class="s1">])</span>

<span class="s3"># screen size</span>
<span class="s1">ScreenResolution = st.selectbox(</span><span class="s2">'Screen Resolution'</span><span class="s0">, </span><span class="s1">vd[</span><span class="s2">'Screen Resolution'</span><span class="s1">].unique())</span>

<span class="s3"># DisplayType</span>
<span class="s1">DisplayType = st.selectbox(</span><span class="s2">'Display Type'</span><span class="s0">, </span><span class="s1">vd[</span><span class="s2">'Display Type'</span><span class="s1">].unique())</span>

<span class="s3"># DisplayDimension</span>
<span class="s1">DisplayDimension = st.selectbox(</span><span class="s2">'Display Dimension'</span><span class="s0">, </span><span class="s1">vd[</span><span class="s2">'Display Dimension'</span><span class="s1">].unique())</span>

<span class="s3"># RefreshRate</span>
<span class="s1">RefreshRate = st.selectbox(</span><span class="s2">'Refresh Rate(Hz)'</span><span class="s0">, </span><span class="s1">vd[</span><span class="s2">'Refresh Rate(Hz)'</span><span class="s1">].unique())</span>

<span class="s3"># TouchSampleRate</span>
<span class="s1">TouchSampleRate = st.selectbox(</span><span class="s2">'Touch Sample Rate(Hz)'</span><span class="s0">, </span><span class="s1">[</span><span class="s4">180</span><span class="s0">,</span><span class="s4">240</span><span class="s0">,</span><span class="s4">300</span><span class="s0">,</span><span class="s4">360</span><span class="s0">,</span><span class="s4">480</span><span class="s0">,</span><span class="s4">600</span><span class="s0">,</span><span class="s4">1000</span><span class="s1">])</span>

<span class="s3"># VariableRefreshRate</span>
<span class="s1">VariableRefreshRate = st.selectbox(</span><span class="s2">'Variable Refresh Rate'</span><span class="s0">, </span><span class="s1">vd[</span><span class="s2">'Variable Refresh Rate'</span><span class="s1">].unique())</span>

<span class="s3"># ProcessorBrand</span>
<span class="s1">ProcessorBrand = st.selectbox(</span><span class="s2">'Processor Brand'</span><span class="s0">, </span><span class="s1">vd[</span><span class="s2">'Processor Brand'</span><span class="s1">].unique())</span>

<span class="s3"># Chipset</span>
<span class="s1">Chipset = st.selectbox(</span><span class="s2">'Chipset'</span><span class="s0">, </span><span class="s1">vd[</span><span class="s2">'Chipset'</span><span class="s1">].unique())</span>

<span class="s3"># ChipSize</span>
<span class="s1">ChipSize = st.selectbox(</span><span class="s2">'Chip Architecture Size(nm)'</span><span class="s0">, </span><span class="s1">[</span><span class="s4">7</span><span class="s0">,</span><span class="s4">6</span><span class="s0">,</span><span class="s4">5</span><span class="s0">,</span><span class="s4">4</span><span class="s1">])</span>

<span class="s3"># RAM</span>
<span class="s1">RAM = st.selectbox(</span><span class="s2">'RAM(GB)'</span><span class="s0">, </span><span class="s1">[</span><span class="s4">4</span><span class="s0">,</span><span class="s4">6</span><span class="s0">,</span><span class="s4">8</span><span class="s0">,</span><span class="s4">12</span><span class="s0">,</span><span class="s4">16</span><span class="s1">])</span>

<span class="s3"># InternalStorage</span>
<span class="s1">InternalStorage = st.selectbox(</span><span class="s2">'Internal Storage(GB)'</span><span class="s0">, </span><span class="s1">[</span><span class="s4">64</span><span class="s0">,</span><span class="s4">128</span><span class="s0">,</span><span class="s4">256</span><span class="s0">,</span><span class="s4">512</span><span class="s1">])</span>

<span class="s3"># RearPrimaryCamera</span>
<span class="s1">RearPrimaryCamera = st.selectbox(</span><span class="s2">'Rear Primary Camera(MP)'</span><span class="s0">, </span><span class="s1">[</span><span class="s4">12</span><span class="s0">,</span><span class="s4">48</span><span class="s0">,</span><span class="s4">50</span><span class="s0">,</span><span class="s4">64</span><span class="s0">,</span><span class="s4">108</span><span class="s1">])</span>

<span class="s3"># RearSecondaryCamera</span>
<span class="s1">RearSecondaryCamera = st.selectbox(</span><span class="s2">'Rear Secondary Camera(MP)'</span><span class="s0">, </span><span class="s1">[</span><span class="s4">0</span><span class="s0">,</span><span class="s4">5</span><span class="s0">,</span><span class="s4">8</span><span class="s0">,</span><span class="s4">10</span><span class="s0">,</span><span class="s4">12</span><span class="s0">,</span><span class="s4">13</span><span class="s0">,</span><span class="s4">16</span><span class="s0">,</span><span class="s4">20</span><span class="s0">,</span><span class="s4">24</span><span class="s0">,</span><span class="s4">32</span><span class="s0">,</span><span class="s4">48</span><span class="s0">,</span><span class="s4">50</span><span class="s0">,</span><span class="s4">64</span><span class="s0">,</span><span class="s1">])</span>

<span class="s3"># RearTertiaryCamera</span>
<span class="s1">RearTertiaryCamera = st.selectbox(</span><span class="s2">'Rear Tertiary Camera(MP)'</span><span class="s0">, </span><span class="s1">[</span><span class="s4">0</span><span class="s0">,</span><span class="s4">5</span><span class="s0">,</span><span class="s4">8</span><span class="s0">,</span><span class="s4">10</span><span class="s0">,</span><span class="s4">12</span><span class="s0">,</span><span class="s4">16</span><span class="s0">,</span><span class="s4">20</span><span class="s0">,</span><span class="s4">24</span><span class="s0">,</span><span class="s4">32</span><span class="s0">,</span><span class="s4">48</span><span class="s0">,</span><span class="s4">50</span><span class="s0">,</span><span class="s4">64</span><span class="s1">])</span>

<span class="s3"># RearQuaternaryCamera</span>
<span class="s1">RearQuaternaryCamera = st.selectbox(</span><span class="s2">'Rear Quaternary Camera(MP)'</span><span class="s0">, </span><span class="s1">[</span><span class="s4">0</span><span class="s0">,</span><span class="s4">5</span><span class="s0">,</span><span class="s4">8</span><span class="s0">,</span><span class="s4">10</span><span class="s0">,</span><span class="s4">12</span><span class="s0">,</span><span class="s4">16</span><span class="s0">,</span><span class="s4">20</span><span class="s0">,</span><span class="s4">24</span><span class="s0">,</span><span class="s4">32</span><span class="s0">,</span><span class="s4">48</span><span class="s0">,</span><span class="s4">50</span><span class="s0">,</span><span class="s4">64</span><span class="s1">])</span>

<span class="s3"># CameraSensorBy</span>
<span class="s1">CameraSensorBy = st.selectbox(</span><span class="s2">'Camera Sensor By'</span><span class="s0">, </span><span class="s1">vd[</span><span class="s2">'Camera Sensor By'</span><span class="s1">].unique())</span>

<span class="s3"># CameraTuningBy</span>
<span class="s1">CameraTuningBy = st.selectbox(</span><span class="s2">'Camera Tuning By'</span><span class="s0">, </span><span class="s1">vd[</span><span class="s2">'Camera Tuning By'</span><span class="s1">].unique())</span>

<span class="s3"># Battery</span>
<span class="s1">Battery = st.number_input(</span><span class="s2">'Battery (mAh)'</span><span class="s1">)</span>

<span class="s3"># WiredCharger</span>
<span class="s1">WiredCharger = st.selectbox(</span><span class="s2">'Wired Charger(w)'</span><span class="s0">, </span><span class="s1">[</span><span class="s4">5</span><span class="s0">,</span><span class="s4">10</span><span class="s0">,</span><span class="s4">15</span><span class="s0">,</span><span class="s4">20</span><span class="s0">,</span><span class="s4">25</span><span class="s0">,</span><span class="s4">30</span><span class="s0">,</span><span class="s4">33</span><span class="s0">,</span><span class="s4">40</span><span class="s0">,</span><span class="s4">45</span><span class="s0">,</span><span class="s4">50</span><span class="s0">,</span><span class="s4">55</span><span class="s0">,</span><span class="s4">65</span><span class="s0">,</span><span class="s4">66</span><span class="s0">,</span>
                                                 <span class="s4">67</span><span class="s0">,</span><span class="s4">80</span><span class="s0">,</span><span class="s4">90</span><span class="s0">,</span><span class="s4">100</span><span class="s0">,</span><span class="s4">120</span><span class="s0">,</span><span class="s4">125</span><span class="s0">,</span><span class="s1">])</span>

<span class="s3"># WirelessCharging</span>
<span class="s1">WirelessCharging = st.selectbox(</span><span class="s2">'Wireless Charging(w)'</span><span class="s0">, </span><span class="s1">[</span><span class="s4">0</span><span class="s0">,</span><span class="s4">12</span><span class="s0">,</span><span class="s4">15</span><span class="s0">,</span><span class="s4">20</span><span class="s0">,</span><span class="s4">25</span><span class="s0">,</span><span class="s4">30</span><span class="s0">,</span><span class="s4">40</span><span class="s0">,</span><span class="s4">45</span><span class="s0">,</span><span class="s4">50</span><span class="s0">,</span><span class="s4">55</span><span class="s0">,</span><span class="s4">65</span><span class="s0">,</span><span class="s4">66</span><span class="s0">,</span><span class="s4">80</span><span class="s0">,</span><span class="s4">90</span><span class="s1">])</span>

<span class="s3"># SecuritySensor</span>
<span class="s1">SecuritySensor = st.selectbox(</span><span class="s2">'Security sensor'</span><span class="s0">, </span><span class="s1">vd[</span><span class="s2">'Security sensor'</span><span class="s1">].unique())</span>

<span class="s3"># BackBody</span>
<span class="s1">BackBody = st.selectbox(</span><span class="s2">'Back Body'</span><span class="s0">, </span><span class="s1">vd[</span><span class="s2">'Back Body'</span><span class="s1">].unique())</span>

<span class="s3"># Chassis</span>
<span class="s1">Chassis = st.selectbox(</span><span class="s2">'Chassis'</span><span class="s0">, </span><span class="s1">vd[</span><span class="s2">'Chasis'</span><span class="s1">].unique())</span>

<span class="s3"># Thickness</span>
<span class="s1">Thickness = st.number_input(</span><span class="s2">'Thickness(mm)'</span><span class="s1">)</span>


<span class="s3"># Weight</span>
<span class="s1">Weight = st.number_input(</span><span class="s2">'Weight(gm)'</span><span class="s1">)</span>

<span class="s0">if </span><span class="s1">st.button(</span><span class="s2">'Predict Product Price'</span><span class="s1">):</span>
    <span class="s1">X_res = int(ScreenResolution.split(</span><span class="s2">'x'</span><span class="s1">)[</span><span class="s4">0</span><span class="s1">])</span>
    <span class="s1">Y_res = int(ScreenResolution.split(</span><span class="s2">'x'</span><span class="s1">)[</span><span class="s4">1</span><span class="s1">])</span>
    <span class="s1">PPI = ((X_res**</span><span class="s4">2</span><span class="s1">) + (Y_res**</span><span class="s4">2</span><span class="s1">))**</span><span class="s4">0.5</span><span class="s1">/Screensize</span>
    <span class="s1">query = np.array([Category</span><span class="s0">,</span><span class="s1">WirelessCharging</span><span class="s0">,</span><span class="s1">Weight</span><span class="s0">,</span><span class="s1">SecuritySensor</span><span class="s0">,</span><span class="s1">Brand</span><span class="s0">,</span><span class="s1">Screensize</span><span class="s0">,</span>
                      <span class="s1">DisplayType</span><span class="s0">,</span><span class="s1">VariableRefreshRate</span><span class="s0">,</span><span class="s1">ProcessorBrand</span><span class="s0">,</span><span class="s1">Chipset</span><span class="s0">,</span><span class="s1">ChipSize</span><span class="s0">,</span>
                      <span class="s1">RAM</span><span class="s0">,</span><span class="s1">InternalStorage</span><span class="s0">,</span><span class="s1">RearSecondaryCamera</span><span class="s0">,</span><span class="s1">RearTertiaryCamera</span><span class="s0">,</span>
                      <span class="s1">CameraSensorBy</span><span class="s0">,</span><span class="s1">CameraTuningBy</span><span class="s0">,</span><span class="s1">BackBody</span><span class="s0">,</span><span class="s1">Chassis</span><span class="s0">,</span><span class="s1">Thickness</span><span class="s0">,</span><span class="s1">PPI])</span>
    <span class="s1">query = query.reshape(</span><span class="s4">1</span><span class="s0">,</span><span class="s4">21</span><span class="s1">)</span>
    <span class="s1">st.title(int(np.exp(pipe.predict(query))))</span>
</pre>
</body>
</html>